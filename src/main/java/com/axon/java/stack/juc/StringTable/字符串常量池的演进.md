# ğŸ—‚ï¸ **JDK 1.8 å­—ç¬¦ä¸²å¸¸é‡æ± çš„å†…å­˜ä½ç½®è¯¦è§£**

## ğŸ“ **ç›´æ¥ç­”æ¡ˆ**

åœ¨ **JDK 1.8** ä¸­ï¼Œ**å­—ç¬¦ä¸²å¸¸é‡æ± å­˜æ”¾åœ¨å †ç©ºé—´**ï¼Œä½†**ä¸å±äºä¼ ç»Ÿçš„å¹´è½»ä»£æˆ–è€å¹´ä»£åˆ†ç±»**ï¼Œè€Œæ˜¯ä½œä¸º**å †çš„ç‰¹æ®ŠåŒºåŸŸ**å­˜åœ¨ã€‚

## ğŸ•°ï¸ **å­—ç¬¦ä¸²å¸¸é‡æ± çš„å†å²æ¼”è¿›**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å­—ç¬¦ä¸²å¸¸é‡æ± ä½ç½®å˜åŒ–å²                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  JDK 1.6 åŠä»¥å‰                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    JVM å†…å­˜ç»“æ„                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    å †å†…å­˜    â”‚  â”‚   æ–¹æ³•åŒº    â”‚  â”‚  ç¨‹åºè®¡æ•°å™¨  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ (æ°¸ä¹…ä»£)    â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  å¹´è½»ä»£     â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  è€å¹´ä»£     â”‚  â”‚ â”‚å­—ç¬¦ä¸²å¸¸é‡æ± â”‚ â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ â”‚ âŒæ—§ä½ç½® â”‚ â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  JDK 1.7                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    JVM å†…å­˜ç»“æ„                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    å †å†…å­˜    â”‚  â”‚   æ–¹æ³•åŒº    â”‚  â”‚  ç¨‹åºè®¡æ•°å™¨  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ (æ°¸ä¹…ä»£)    â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”‚å­—ç¬¦ä¸²å¸¸é‡æ± â”‚ â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”‚ âœ…æ–°ä½ç½® â”‚ â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  å¹´è½»ä»£     â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  è€å¹´ä»£     â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  JDK 1.8                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    JVM å†…å­˜ç»“æ„                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚    å †å†…å­˜    â”‚  â”‚   å…ƒç©ºé—´    â”‚  â”‚  ç¨‹åºè®¡æ•°å™¨  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ (Metaspace) â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”‚å­—ç¬¦ä¸²å¸¸é‡æ± â”‚ â”‚  â”‚   ç±»å…ƒä¿¡æ¯   â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â”‚ âœ…ç»§ç»­   â”‚ â”‚  â”‚   æ–¹æ³•å…ƒä¿¡æ¯ â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  å¹´è½»ä»£     â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â”‚  è€å¹´ä»£     â”‚  â”‚             â”‚  â”‚             â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ **JDK 1.8 å †å†…å­˜ç²¾ç¡®ç»“æ„å›¾**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JDK 1.8 å †å†…å­˜è¯¦ç»†ç»“æ„                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      å †ç©ºé—´ (Heap)                      â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚               å­—ç¬¦ä¸²å¸¸é‡æ± åŒºåŸŸ ğŸ¯                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         (String Pool / String Table)              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  "hello" â†’ String@1001                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  "world" â†’ String@1002                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  "java"  â†’ String@1003                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ...                                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ç‰¹ç‚¹ï¼š                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  âŒ ä¸å‚ä¸åˆ†ä»£å›æ”¶                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  âœ… ç›´æ¥åœ¨å †ä¸­åˆ†é…                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  âœ… ç”Ÿå‘½å‘¨æœŸé€šå¸¸å¾ˆé•¿                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  âœ… GCæ—¶ç‰¹æ®Šå¤„ç†                                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                  å¹´è½»ä»£ (Young Generation)          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Eden    â”‚  â”‚ Survivor0  â”‚  â”‚ Survivor1  â”‚     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚          â”‚  â”‚    S0      â”‚  â”‚    S1      â”‚     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ new å¯¹è±¡ â”‚  â”‚           â”‚  â”‚           â”‚     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ é¦–æ¬¡åˆ†é… â”‚  â”‚ å­˜æ´»å¯¹è±¡   â”‚  â”‚ å­˜æ´»å¯¹è±¡   â”‚     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚          â”‚  â”‚           â”‚  â”‚           â”‚     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                 è€å¹´ä»£ (Old Generation)             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  é•¿æœŸå­˜æ´»çš„å¯¹è±¡                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  å¤§å¯¹è±¡ç›´æ¥åˆ†é…                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  å¹´è½»ä»£æ™‹å‡çš„å¯¹è±¡                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” **éªŒè¯å­—ç¬¦ä¸²å¸¸é‡æ± ä½ç½®çš„ä»£ç **

```java
import java.lang.management.ManagementFactory;
import java.lang.management.MemoryMXBean;
import java.lang.management.MemoryUsage;

public class StringPoolLocationTest {
    
    public static void main(String[] args) {
        // éªŒè¯å­—ç¬¦ä¸²å¸¸é‡æ± åœ¨å †ä¸­
        testStringPoolInHeap();
        
        // è§‚å¯Ÿå†…å­˜å˜åŒ–
        observeMemoryChange();
        
        // éªŒè¯intern()è¡Œä¸º
        testInternBehavior();
    }
    
    /**
     * éªŒè¯å­—ç¬¦ä¸²å¸¸é‡æ± ç¡®å®åœ¨å †ç©ºé—´
     */
    public static void testStringPoolInHeap() {
        System.out.println("=== éªŒè¯å­—ç¬¦ä¸²å¸¸é‡æ± ä½ç½® ===");
        
        MemoryMXBean memoryBean = ManagementFactory.getMemoryMXBean();
        
        // è®°å½•åˆå§‹å †ä½¿ç”¨æƒ…å†µ
        MemoryUsage beforeHeap = memoryBean.getHeapMemoryUsage();
        System.out.println("åˆ›å»ºå‰å †ä½¿ç”¨: " + beforeHeap.getUsed() + " bytes");
        
        // åˆ›å»ºå¤§é‡å­—ç¬¦ä¸²å¸¸é‡
        String[] strings = new String[10000];
        for (int i = 0; i < 10000; i++) {
            // è¿™äº›å­—ç¬¦ä¸²ä¼šè¿›å…¥å­—ç¬¦ä¸²å¸¸é‡æ± 
            strings[i] = ("string_" + i).intern();
        }
        
        // è®°å½•åˆ›å»ºåå †ä½¿ç”¨æƒ…å†µ
        MemoryUsage afterHeap = memoryBean.getHeapMemoryUsage();
        System.out.println("åˆ›å»ºåå †ä½¿ç”¨: " + afterHeap.getUsed() + " bytes");
        System.out.println("å †ä½¿ç”¨å¢åŠ : " + (afterHeap.getUsed() - beforeHeap.getUsed()) + " bytes");
        
        // ğŸ’¡ å…³é”®è¯æ˜ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± çš„å¢é•¿ç›´æ¥åæ˜ åœ¨å †ä½¿ç”¨é‡ä¸Š
        System.out.println("âœ… è¯æ˜ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± ç¡®å®åœ¨å †ç©ºé—´ä¸­ï¼");
    }
    
    /**
     * è§‚å¯Ÿå­—ç¬¦ä¸²å¸¸é‡æ± ä¸åˆ†ä»£å›æ”¶çš„å…³ç³»
     */
    public static void observeMemoryChange() {
        System.out.println("\n=== å­—ç¬¦ä¸²å¸¸é‡æ± ä¸GCçš„å…³ç³» ===");
        
        // åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼ˆä¼šè¿›å…¥å¹´è½»ä»£ï¼‰
        for (int i = 0; i < 1000; i++) {
            String temp = new String("temp_" + i);  // å †å¯¹è±¡ï¼Œéå¸¸é‡æ± 
            // temp ä¼šå¾ˆå¿«å˜æˆåƒåœ¾
        }
        
        // æ‰‹åŠ¨è§¦å‘å¹´è½»ä»£GC
        System.gc();
        System.out.println("å¹´è½»ä»£GCåï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å¯¹è±¡ä¾ç„¶å­˜åœ¨");
        
        // éªŒè¯å¸¸é‡æ± å­—ç¬¦ä¸²æœªè¢«å›æ”¶
        String test = "hello";
        String test2 = "hello".intern();
        System.out.println("test == test2: " + (test == test2));  // true
        System.out.println("âœ… å¸¸é‡æ± å­—ç¬¦ä¸²ä¸å—å¹´è½»ä»£GCå½±å“");
    }
    
    /**
     * éªŒè¯intern()åœ¨JDK1.8ä¸­çš„è¡Œä¸º
     */
    public static void testInternBehavior() {
        System.out.println("\n=== JDK1.8 intern()è¡Œä¸ºéªŒè¯ ===");
        
        // JDK1.8ä¸­çš„internè¡Œä¸º
        String s1 = new StringBuilder("ja").append("va").toString();
        String s2 = s1.intern();
        
        System.out.println("s1 == s2: " + (s1 == s2));  // true in JDK1.7+
        
        // è¿™è¯æ˜äº†ä»€ä¹ˆï¼Ÿ
        System.out.println("ğŸ’¡ è¯´æ˜:");
        System.out.println("1. intern()ä¸å†å¤åˆ¶å­—ç¬¦ä¸²åˆ°æ°¸ä¹…ä»£");
        System.out.println("2. è€Œæ˜¯åœ¨å¸¸é‡æ± ä¸­å­˜å‚¨å †ä¸­å­—ç¬¦ä¸²çš„å¼•ç”¨");
        System.out.println("3. å¸¸é‡æ± å’Œæ™®é€šå †å¯¹è±¡éƒ½åœ¨å †ç©ºé—´ä¸­");
        
        // å†…å­˜åœ°å€éªŒè¯
        System.out.println("s1çš„å†…å­˜åœ°å€: " + System.identityHashCode(s1));
        System.out.println("s2çš„å†…å­˜åœ°å€: " + System.identityHashCode(s2));
        System.out.println("âœ… åŒä¸€ä¸ªåœ°å€ï¼Œè¯æ˜åœ¨åŒä¸€å†…å­˜åŒºåŸŸï¼ˆå †ï¼‰");
    }
}
```

## âš™ï¸ **JDK 1.8 å­—ç¬¦ä¸²å¸¸é‡æ± çš„GCç‰¹æ®Šå¤„ç†**

```java
public class StringPoolGCBehavior {
    
    public static void main(String[] args) {
        System.out.println("=== å­—ç¬¦ä¸²å¸¸é‡æ± GCè¡Œä¸º ===");
        
        // å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å¯¹è±¡GCç‰¹ç‚¹
        demonstrateStringPoolGC();
    }
    
    private static void demonstrateStringPoolGC() {
        // 1. å­—ç¬¦ä¸²å¸¸é‡æ± ä¸å‚ä¸å¹´è½»ä»£GC
        String literal = "literalString";  // ç›´æ¥è¿›å…¥å¸¸é‡æ± 
        
        // 2. åªæœ‰åœ¨Full GCæ—¶æ‰å¯èƒ½å›æ”¶æœªè¢«å¼•ç”¨çš„å­—ç¬¦ä¸²
        String dynamic = new StringBuilder("dynamic").toString().intern();
        dynamic = null;  // ç§»é™¤å¼•ç”¨
        
        System.gc();  // è§¦å‘Full GC
        System.out.println("âœ… å­—ç¬¦ä¸²å¸¸é‡æ± åªåœ¨Full GCæ—¶æ¸…ç†");
    }
}
```

## ğŸ¯ **æ ¸å¿ƒè¦ç‚¹æ€»ç»“**

### **ğŸ“ ä½ç½®æ˜ç¡®**
- **JDK 1.8 å­—ç¬¦ä¸²å¸¸é‡æ± ä½ç½®**: **å †ç©ºé—´**
- **ä¸å±äº**: å¹´è½»ä»£æˆ–è€å¹´ä»£çš„ä¼ ç»Ÿåˆ†ç±»
- **ç‰¹æ®Šæ€§**: ä½œä¸ºå †çš„ç‹¬ç«‹åŒºåŸŸï¼Œæœ‰ç‰¹æ®Šçš„GCå¤„ç†é€»è¾‘

### **ğŸ”„ GCè¡Œä¸ºç‰¹ç‚¹**
- **Minor GC**: ä¸å›æ”¶å¸¸é‡æ± å­—ç¬¦ä¸²
- **Full GC**: æ‰å¯èƒ½å›æ”¶æ— å¼•ç”¨çš„å­—ç¬¦ä¸²
- **ç”Ÿå‘½å‘¨æœŸ**: é€šå¸¸æ¯”æ™®é€šå¯¹è±¡æ›´é•¿

### **ğŸ’¡ å®é™…æ„ä¹‰**
1. **å†…å­˜ç®¡ç†**: å­—ç¬¦ä¸²å¸¸é‡æ± å—å †å¤§å°é™åˆ¶ï¼Œä¸å†å—æ°¸ä¹…ä»£é™åˆ¶
2. **OOMé£é™©**: å¤§é‡å­—ç¬¦ä¸²internå¯èƒ½å¯¼è‡´å †å†…å­˜ä¸è¶³
3. **è°ƒä¼˜ç­–ç•¥**: éœ€è¦è€ƒè™‘å †å¤§å°é…ç½®ï¼Œè€Œéæ°¸ä¹…ä»£

**æ€»ç»“**: JDK 1.8ä¸­å­—ç¬¦ä¸²å¸¸é‡æ± åœ¨å †ç©ºé—´ï¼Œä½œä¸ºç‰¹æ®ŠåŒºåŸŸå­˜åœ¨ï¼Œä¸å‚ä¸ä¼ ç»Ÿçš„åˆ†ä»£å›æ”¶æœºåˆ¶ã€‚